<!-- KaTeX 优化版：BootCDN源 + 异步加载 (解决卡顿) -->
{{ if or .Params.math .Site.Params.math }}
    <link href="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet">
    
    <!-- 加上 defer 属性，让脚本在后台下载，不阻塞页面显示 -->
    <script defer src="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.16.8/katex.min.js"></script>
    
    <!-- 使用 onload 确保主库下载完后再执行渲染 -->
    <script defer src="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.16.8/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body, {
          delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false},
            {left: '\\(', right: '\\)', display: false},
            {left: '\\[', right: '\\]', display: true}
          ],
          ignoredTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        });"></script>
{{ end }}、

<!-- 引入不蒜子统计脚本（用于计算访问量/访客数） -->
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
